# Clashé…ç½®æ–‡ä»¶æ¨¡æ¿ - IPçº¯å‡€åº¦ä¼˜åŒ–ç‰ˆ
# ç”Ÿæˆæ—¶é—´: {{GENERATION_TIME}}
# æ€»èŠ‚ç‚¹æ•°: {{TOTAL_NODES}}
# çº¯å‡€IPæ•°: {{PURE_IPS}}
# æœ€åæ›´æ–°: {{LAST_UPDATE}}

port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090

# DNSé…ç½®
dns:
  enable: true
  listen: 0.0.0.0:53
  default-nameserver:
    - 223.5.5.5
    - 8.8.8.8
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query

# ä»£ç†èŠ‚ç‚¹é…ç½®
proxies:
{{PROXY_NODES}}

# ä»£ç†ç»„é…ç½®
proxy-groups:
  # ä¸»é€‰æ‹©ç»„
  - name: "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    type: select
    proxies:
      - "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
      - "ğŸ”¯ æ•…éšœè½¬ç§»"
      - "âš¡ è´Ÿè½½å‡è¡¡"
      - "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹"
      - "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹"
      - "ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹"
      - "ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹"
      - "ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹"
      - "ğŸŒ å…¶ä»–åœ°åŒº"
      - "DIRECT"

  # è‡ªåŠ¨é€‰æ‹©ç»„
  - name: "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    proxies:
{{AUTO_SELECT_NODES}}
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    tolerance: 50

  # æ•…éšœè½¬ç§»ç»„
  - name: "ğŸ”¯ æ•…éšœè½¬ç§»"
    type: fallback
    proxies:
{{FALLBACK_NODES}}
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # è´Ÿè½½å‡è¡¡ç»„
  - name: "âš¡ è´Ÿè½½å‡è¡¡"
    type: load-balance
    strategy: consistent-hashing
    proxies:
{{LOAD_BALANCE_NODES}}
    url: 'http://www.gstatic.com/generate_204'
    interval: 300

  # åœ°åŒºåˆ†ç»„
  - name: "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
    type: select
    proxies:
{{US_NODES}}

  - name: "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
    type: select
    proxies:
{{HK_NODES}}

  - name: "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹"
    type: select
    proxies:
{{JP_NODES}}

  - name: "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹"
    type: select
    proxies:
{{SG_NODES}}

  - name: "ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹"
    type: select
    proxies:
{{KR_NODES}}

  - name: "ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹"
    type: select
    proxies:
{{GB_NODES}}

  - name: "ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹"
    type: select
    proxies:
{{DE_NODES}}

  - name: "ğŸŒ å…¶ä»–åœ°åŒº"
    type: select
    proxies:
{{OTHER_NODES}}

  # ç‰¹æ®Šç”¨é€”ç»„
  - name: "ğŸ“º æµåª’ä½“"
    type: select
    proxies:
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
      - "ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹"
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹"
      - "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹"

  - name: "ğŸ® æ¸¸æˆåŠ é€Ÿ"
    type: select
    proxies:
      - "DIRECT"
      - "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      - "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹"
      - "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹"
      - "ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹"

  - name: "ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª"
    type: select
    proxies:
      - "REJECT"
      - "DIRECT"

# è§„åˆ™é…ç½®
rules:
  # æœ¬åœ°ç½‘ç»œ
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,17.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT

  # å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-SUFFIX,googlesyndication.com,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-SUFFIX,googleadservices.com,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª
  - DOMAIN-SUFFIX,doubleclick.net,ğŸ›¡ï¸ å¹¿å‘Šæ‹¦æˆª

  # æµåª’ä½“æœåŠ¡
  - DOMAIN-SUFFIX,netflix.com,ğŸ“º æµåª’ä½“
  - DOMAIN-SUFFIX,youtube.com,ğŸ“º æµåª’ä½“
  - DOMAIN-SUFFIX,googlevideo.com,ğŸ“º æµåª’ä½“
  - DOMAIN-SUFFIX,hulu.com,ğŸ“º æµåª’ä½“
  - DOMAIN-SUFFIX,disney.com,ğŸ“º æµåª’ä½“

  # æ¸¸æˆå¹³å°
  - DOMAIN-SUFFIX,steam.com,ğŸ® æ¸¸æˆåŠ é€Ÿ
  - DOMAIN-SUFFIX,steamcommunity.com,ğŸ® æ¸¸æˆåŠ é€Ÿ
  - DOMAIN-SUFFIX,epicgames.com,ğŸ® æ¸¸æˆåŠ é€Ÿ

  # å›½å†…ç½‘ç«™ç›´è¿
  - DOMAIN-SUFFIX,cn,DIRECT
  - DOMAIN-KEYWORD,baidu,DIRECT
  - DOMAIN-KEYWORD,taobao,DIRECT
  - DOMAIN-KEYWORD,alipay,DIRECT
  - GEOIP,CN,DIRECT

  # å…¶ä»–æµé‡èµ°ä»£ç†
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
