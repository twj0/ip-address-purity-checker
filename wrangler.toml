name = "ip-purity-checker"
main = "cloudflare/scheduled-worker.js"
compatibility_date = "2024-01-01"

# 环境变量
[vars]
ENVIRONMENT = "production"
GITHUB_REPO = "twj0/clash-config"
GITHUB_BRANCH = "main"

# 敏感环境变量 - 需要通过wrangler secret设置
# wrangler secret put GITHUB_TOKEN

# KV存储绑定 - 首次部署后需要手动配置
# 部署成功后，请运行以下命令创建KV命名空间：
# wrangler kv:namespace create "IP_CACHE"
# 然后将返回的ID填入下面的配置并重新部署
[[kv_namespaces]]
binding = "IP_CACHE"
id = "a76c07f7c45e4357b98f5d6c3e078783"

# 定时任务配置 - 北京时间00:00 (UTC 16:00)
[triggers]
crons = ["0 16 * * *"]

# 兼容性设置
compatibility_flags = ["nodejs_compat"]

